</div>
</div>

<script src="/assets/js/libs/split-text.js"></script>
<script src="/assets/js/libs/swup.js"></script>
<script src="/assets/js/libs/swup-progress.js"></script>
<script src="/assets/js/libs/swup-body.js"></script>
<script src="/assets/js/libs/gsap.js"></script>
<script src="/assets/js/libs/scroll-trigger.js"></script>
<script src="/assets/js/libs/lenis.js"></script> 
<script src="/assets/js/animations.js"></script>
<script src="/assets/js/script.js"></script>
<script>
  window.addEventListener('load', function() {
  appMain(); animationMain()
  });
  const swup = new Swup({
    animateHistoryBrowsing: true, 
    plugins: [
      new SwupProgressPlugin(),
      new SwupBodyClassPlugin()
    ]
  });
  swup.hooks.on('page:view', () => {
       appMain(); animationMain()
  }, { before: true });
</script> 
<script src="/assets/js/cookieconsent.js" defer></script>
<script src="/assets/js/cookieconsent-init.js" defer></script>

<script>
  // Bookero
  var bookero_config = {
    id: '9UmCxEbmleIB',
    container: 'bookero',
    type: 'calendar',
    position: '',
    plugin_css: true,
    lang: 'pl'
  };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://cdn.bookero.pl/plugin/v2/js/bookero-compiled.js';
    d.body.appendChild(s);
  })();

  document.addEventListener('DOMContentLoaded', function() {
    const overlay = document.getElementById('bookero-overlay');
    const openButtons = document.querySelectorAll('.open-bookero'); // <== wszystkie przyciski
    const closeBtn = document.querySelector('.bookero-close');

    let scrollY = 0;
    function lockScroll() {
      scrollY = window.scrollY || 0;
      document.documentElement.classList.add('popup-open');
      document.body.style.setProperty('--scroll-lock-top', `-${scrollY}px`);
      document.body.classList.add('scroll-lock');
      if (window.lenis && typeof window.lenis.stop === 'function') window.lenis.stop();
    }
    function unlockScroll() {
      document.body.classList.remove('scroll-lock');
      document.body.style.removeProperty('--scroll-lock-top');
      document.documentElement.classList.remove('popup-open');
      if (window.lenis && typeof window.lenis.start === 'function') {
        window.lenis.start();
        if (typeof window.lenis.scrollTo === 'function') window.lenis.scrollTo(scrollY, { immediate: true });
      } else window.scrollTo(0, scrollY);
    }

    function openPopup() {
      overlay.classList.add('active');
      lockScroll();
    }
    function closePopup() {
      overlay.classList.remove('active');
      unlockScroll();
    }

    // Wszystkie przyciski Bookero
    openButtons.forEach(btn => btn.addEventListener('click', openPopup));
    closeBtn.addEventListener('click', closePopup);
    overlay.addEventListener('click', e => { if (e.target === overlay) closePopup(); });
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape' && overlay.classList.contains('active')) closePopup();
    });
  });
</script>

  
</body>
</html>